{"ast":null,"code":"var _jsxFileName = \"/Users/nurathirahbintiomar/Downloads/simple-crud-react-nodejs-master/frontend/src/pages/Home.js\";\nimport React, { Component } from 'react';\nimport qs from 'querystring';\nimport api from '../services/api';\nimport UserTable from '../components/table/UserTable';\nimport AddUserForm from '../components/forms/AddUserForm';\nimport EditUserForm from '../components/forms/EditUserForm';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addUser = user => {\n      api.post('api', qs.stringify(user)).then(res => {\n        this.refreshUserTable();\n      });\n    };\n\n    this.deleteUser = id => {\n      api.delete(`api/${id}`).then(res => {\n        this.refreshUserTable();\n      });\n    };\n\n    this.updateUser = (id, user) => {\n      api.put(`api/${id}`, qs.stringify(user)).then(res => {\n        this.refreshUserTable();\n      });\n      this.setState({\n        currentUser: {\n          id: null,\n          name: '',\n          username: ''\n        }\n      });\n      this.setEditing(false);\n    };\n\n    this.editRow = user => {\n      this.setState({\n        currentUser: {\n          id: user.id,\n          name: user.name,\n          username: user.username\n        }\n      });\n      this.setEditing(true);\n    };\n\n    this.setEditing = isEditing => {\n      this.setState({\n        editing: isEditing\n      });\n    };\n\n    this.state = {\n      users: [],\n      currentUser: {\n        id: null,\n        name: '',\n        username: ''\n      },\n      editing: false\n    };\n  }\n\n  componentDidMount() {\n    this.refreshUserTable();\n  }\n\n  refreshUserTable() {\n    this.usersData = api.get('api').then(response => response.data).then(data => {\n      this.setState({\n        users: data.data,\n        setUsers: data.data\n      });\n    });\n  }\n\n  render() {\n    const {\n      users\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }, this.state.editing ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 l6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 33\n      }\n    }, \"Edit Task\"), /*#__PURE__*/React.createElement(EditUserForm, {\n      editing: this.state.editing,\n      setEditing: this.setEditing,\n      currentUser: this.state.currentUser,\n      updateUser: this.updateUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 l6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 33\n      }\n    }, \"Add T\"), /*#__PURE__*/React.createElement(AddUserForm, {\n      addUser: this.addUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12 l6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 25\n      }\n    }, \"Users\"), /*#__PURE__*/React.createElement(UserTable, {\n      users: users,\n      editRow: this.editRow,\n      deleteUser: this.deleteUser,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 25\n      }\n    }))));\n  }\n\n}\n\n;\nexport default Home;","map":{"version":3,"sources":["/Users/nurathirahbintiomar/Downloads/simple-crud-react-nodejs-master/frontend/src/pages/Home.js"],"names":["React","Component","qs","api","UserTable","AddUserForm","EditUserForm","Home","constructor","props","addUser","user","post","stringify","then","res","refreshUserTable","deleteUser","id","delete","updateUser","put","setState","currentUser","name","username","setEditing","editRow","isEditing","editing","state","users","componentDidMount","usersData","get","response","data","setUsers","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport qs from 'querystring';\n\nimport api from '../services/api';\n\nimport UserTable from '../components/table/UserTable';\nimport AddUserForm from '../components/forms/AddUserForm';\nimport EditUserForm from '../components/forms/EditUserForm';\n\nclass Home extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            users: [],\n            currentUser: { id: null, name: '', username: '' },\n            editing: false\n        }\n    }\n\n    componentDidMount() {\n        this.refreshUserTable();\n    }\n\n    refreshUserTable() {\n        this.usersData = api.get('api')\n            .then(response => response.data)\n            .then(data => {\n\n                this.setState({ \n                    users: data.data,\n                    setUsers: data.data\n                });\n            });\n    }\n\n    addUser = user => {\n\n        api.post('api', qs.stringify(user))\n            .then(res => {\n                this.refreshUserTable();\n            });\n    };\n\n    deleteUser = id => {\n\n        api.delete(`api/${id}`)\n            .then(res => {\n                this.refreshUserTable();\n            });\n    };\n\n    updateUser = (id, user) => {\n        \n        api.put(`api/${id}`, qs.stringify(user))\n            .then(res => {\n\n                this.refreshUserTable();\n            });\n        \n        this.setState({ \n            currentUser: { id: null, name: '', username: '' }\n        });\n\n        this.setEditing(false);\n    };\n\n    editRow = user => {\n\n        this.setState({ \n            currentUser: { id: user.id, name: user.name, username: user.username }\n        });\n\n        this.setEditing(true);\n    };\n\n    setEditing = isEditing => {\n\n        this.setState({ editing: isEditing });\n    };\n\n    render () {\n        const { users } = this.state;\n\n        return (\n            <div className=\"container\">\n                    \n                <div className=\"row\">\n    \n                    {\n                        this.state.editing ? (\n                            <div className=\"col s12 l6\">\n                                <h4>Edit Task</h4>\n                                <EditUserForm \n                                    editing={this.state.editing}\n                                    setEditing={this.setEditing}\n                                    currentUser={this.state.currentUser}\n                                    updateUser={this.updateUser} \n                                />\n                            </div>\n                        ) : (\n                            <div className=\"col s12 l6\">\n                                <h4>Add T</h4>\n                                <AddUserForm addUser={this.addUser} />\n                            </div>\n                        )\n                    }\n                    \n                    <div className=\"col s12 l6\">\n                        <h5>Users</h5>\n                        <UserTable users={users} editRow={this.editRow} deleteUser={this.deleteUser} />\n                    </div>\n                </div>\n            </div>\n        );\n    };\n};\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}